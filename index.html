<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Narapoi - Free XXX Videos</title>
<style>
  :root {
    --bg: #000;
    --card: #111;
    --text: #eee;
    --accent: #ff2d55; /* xHamster pink-ish */
    --gray: #222;
    --lightgray: #444;
  }
  * {margin:0; padding:0; box-sizing:border-box;}
  body {
    font-family: Arial, Helvetica, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.4;
  }
  a {text-decoration:none; color:inherit;}
  img {display:block; width:100%; height:auto;}

  /* Age Popup */
  #agePopup {
    position:fixed; inset:0; background:rgba(0,0,0,0.97);
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    z-index:9999; color:#fff; text-align:center; padding:20px;
  }
  #agePopup h2 {font-size:2.4rem; margin-bottom:1.8rem; color:var(--accent);}
  #agePopup button {
    padding:16px 50px; font-size:1.4rem; background:var(--accent); color:#fff;
    border:none; border-radius:8px; cursor:pointer; margin:12px; font-weight:bold;
  }
  #agePopup button:hover {background:#ff6699;}

  /* Header */
  header {
    position:sticky; top:0; z-index:200;
    background:var(--card); border-bottom:1px solid var(--gray);
    padding:10px 20px;
    display:flex; align-items:center; gap:20px;
  }
  .logo {
    font-size:2rem; font-weight:bold; color:var(--accent); letter-spacing:-1px;
    cursor:pointer;
  }
  .search-box {flex:1; max-width:800px;}
  .search-box input {
    width:100%; padding:12px 18px; font-size:1.05rem;
    background:#1a1a1a; border:1px solid var(--gray); border-radius:8px;
    color:var(--text);
  }
  .header-icons {
    display:flex; align-items:center; gap:18px;
  }
  .header-icons .icon {
    width:28px; height:28px; fill:#ccc; cursor:pointer; transition:0.2s;
  }
  .header-icons .icon:hover {fill:var(--accent);}
  .header-icons .premium-btn {
    background:var(--accent); color:#000; padding:8px 16px; border-radius:6px;
    font-weight:bold; font-size:0.9rem; cursor:pointer;
  }
  .header-icons .login-btn {
    color:#ccc; font-size:0.95rem; cursor:pointer;
  }
  .header-icons .login-btn:hover {color:var(--accent);}

  /* Top Nav Genres */
  .top-nav {
    background:var(--card); padding:12px 20px; overflow-x:auto; white-space:nowrap;
    border-bottom:1px solid var(--gray);
  }
  .top-nav a {
    display:inline-block; padding:8px 18px; margin:0 6px;
    background:#1a1a1a; border-radius:30px; font-size:0.95rem;
    transition:0.2s;
  }
  .top-nav a:hover {background:var(--accent); color:#000;}

  /* Featured */
  .featured {
    padding:20px; background:linear-gradient(to bottom, #0a0a0a, var(--bg));
  }
  .section-title {
    color:var(--accent); font-size:1.6rem; margin-bottom:16px; font-weight:bold;
  }
  .carousel {
    display:flex; overflow-x:auto; gap:14px; padding-bottom:10px;
    scrollbar-width:none;
  }
  .carousel::-webkit-scrollbar {display:none;}
  .carousel-item {
    min-width:280px; position:relative; border-radius:10px; overflow:hidden;
    cursor:pointer; transition:transform 0.2s;
  }
  .carousel-item:hover {transform:scale(1.05);}
  .carousel-item img {aspect-ratio:16/9; object-fit:cover;}

  /* Overlay umum */
  .overlay {
    position:absolute; inset:0; background:linear-gradient(to top, rgba(0,0,0,0.9) 30%, transparent 60%);
    padding:12px; display:flex; flex-direction:column; justify-content:flex-end;
    color:#fff;
  }
  .overlay .title {font-weight:bold; font-size:1.1rem; margin-bottom:6px; line-height:1.3;}
  .meta {display:flex; flex-wrap:wrap; gap:10px; font-size:0.85rem; color:#ddd;}
  .meta span {background:rgba(255,255,255,0.15); padding:3px 10px; border-radius:12px;}
  .meta .hd {background:#00b300; color:#fff; font-weight:bold;}

  /* Favorite heart di video */
  .fav-heart {
    position:absolute; top:10px; right:10px; width:32px; height:32px;
    fill:none; stroke:#fff; stroke-width:2; cursor:pointer; transition:0.2s;
  }
  .fav-heart.favorited {fill:var(--accent); stroke:none;}

  /* Grid */
  .grid {
    display:grid; grid-template-columns:repeat(auto-fill, minmax(240px, 1fr));
    gap:14px; padding:20px;
  }
  .grid-item {
    position:relative; border-radius:8px; overflow:hidden; cursor:pointer;
    transition:transform 0.2s;
  }
  .grid-item:hover {transform:scale(1.04);}
  .grid-item img {aspect-ratio:16/9; object-fit:cover;}
  .grid-overlay {position:absolute; bottom:0; left:0; right:0; padding:12px; background:linear-gradient(to top, rgba(0,0,0,0.9), transparent);}

  /* Pagination */
  .pagination {text-align:center; padding:30px 0;}
  .pagination button {
    padding:10px 20px; margin:0 8px; background:var(--gray); border:none;
    color:var(--text); border-radius:6px; cursor:pointer; font-weight:bold;
  }
  .pagination button:hover {background:#333;}

  /* Footer */
  footer {
    text-align:center; padding:25px; background:var(--card); color:#666; font-size:0.9rem;
    border-top:1px solid var(--gray);
  }
</style>
</head>
<body>

<!-- Age Popup -->
<div id="agePopup">
  <h2>Are you 18+?</h2>
  <button onclick="acceptAge()">Yes, Enter</button>
</div>

<!-- Header -->
<header>
  <div class="logo" onclick="alert('Home clicked!')">Narapoi</div>
  <div class="search-box">
    <input type="text" id="search" placeholder="Search porn videos, categories, models...">
  </div>
  <div class="header-icons">
    <svg class="icon" viewBox="0 0 24 24" onclick="alert('Favorites clicked! (Dummy)')"><path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
    <svg class="icon" viewBox="0 0 24 24" onclick="alert('Notifications clicked! (Dummy)')"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/></svg>
    <span class="premium-btn" onclick="alert('Upgrade to Premium! (Dummy - Redirect nanti)')">Premium</span>
    <span class="login-btn" onclick="alert('Login/Register (Dummy)')">Login / Join</span>
  </div>
</header>

<!-- Top Nav -->
<div class="top-nav" id="genres"></div>

<!-- Featured -->
<div class="featured">
  <div class="section-title">Trending Videos</div>
  <div class="carousel" id="popular"></div>
</div>

<!-- Grid -->
<div class="grid" id="videos"></div>

<!-- Pagination -->
<div class="pagination">
  <button onclick="prevPage()">Previous</button>
  <button onclick="nextPage()">Next</button>
</div>

<footer>Narapoi © 2026 • 18+ Only • Free Adult Entertainment</footer>

<script>
// Kode JS kamu tetap sama, hanya render diubah biar tambah heart & clickable

const API = "https://asupan.aku679093.workers.dev/api/videos";
let videosData = [], currentPage = 1, perPage = 12; // naikin perPage biar lebih mirip

function acceptAge() {
  localStorage.setItem('ageAccepted','true');
  document.getElementById('agePopup').style.display='none';
}
if(localStorage.getItem('ageAccepted')) document.getElementById('agePopup').style.display='none';

async function loadVideos() {
  const res = await fetch(API);
  const data = await res.json();
  videosData = data;

  const genres = [...new Set(data.map(v=>v.genre))];
  document.getElementById('genres').innerHTML = genres.map(g=>`<a href="#" onclick="filterGenre('\( {g}'); return false;"> \){g}</a>`).join(' ');

  const popular = data.sort((a,b)=> (b.views||0) - (a.views||0) ).slice(0,10);
  document.getElementById('popular').innerHTML = popular.map(v=>`
    <div class="carousel-item" onclick="goPlayer('${v.id}')">
      <img src="\( {v.thumbnail}" alt=" \){v.title}">
      <svg class="fav-heart" viewBox="0 0 24 24" onclick="event.stopPropagation(); toggleFav('${v.id}', this)"><path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
      <div class="overlay">
        <div class="title">${v.title}</div>
        <div class="meta">
          <span>${v.genre || 'Uncategorized'}</span>
          <span>${Math.floor(Math.random()*80 + 20)} min</span>
          <span>${v.views || Math.floor(Math.random()*50000 + 5000).toLocaleString()} views</span>
          <span class="hd">HD</span>
        </div>
      </div>
    </div>
  `).join('');

  renderGrid();
}

function renderGrid(genre='') {
  let filtered = genre ? videosData.filter(v=>v.genre===genre) : videosData;
  const start = (currentPage-1)*perPage;
  const end = start + perPage;
  const pageData = filtered.slice(start, end);
  document.getElementById('videos').innerHTML = pageData.map(v=>`
    <div class="grid-item" onclick="goPlayer('${v.id}')">
      <img src="\( {v.thumbnail}" alt=" \){v.title}">
      <svg class="fav-heart" viewBox="0 0 24 24" onclick="event.stopPropagation(); toggleFav('${v.id}', this)"><path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
      <div class="grid-overlay">
        <div class="title">${v.title}</div>
        <div class="meta">
          <span>${v.genre || ''}</span>
          <span>${Math.floor(Math.random()*80 + 20)} min</span>
          <span>${v.views || Math.floor(Math.random()*20000 + 2000).toLocaleString()} views</span>
          <span class="hd">HD</span>
        </div>
      </div>
    </div>
  `).join('');
}

// Dummy favorite toggle (bisa upgrade ke localStorage nanti)
function toggleFav(id, el) {
  event.stopPropagation();
  if (el.classList.contains('favorited')) {
    el.classList.remove('favorited');
    alert(`Removed ${id} from favorites (dummy)`);
  } else {
    el.classList.add('favorited');
    alert(`Added ${id} to favorites (dummy)`);
  }
}

function filterGenre(g) { currentPage=1; renderGrid(g); }
function prevPage(){ if(currentPage>1){ currentPage--; renderGrid(); } }
function nextPage(){ if((currentPage*perPage) < videosData.length){ currentPage++; renderGrid(); } }
function goPlayer(id){ window.location.href='player.html?id='+id; }

document.getElementById('search').addEventListener('input', e=>{
  const query = e.target.value.toLowerCase();
  const filtered = videosData.filter(v=>v.title.toLowerCase().includes(query));
  document.getElementById('videos').innerHTML = filtered.map(v=>`
    <div class="grid-item" onclick="goPlayer('${v.id}')">
      <img src="\( {v.thumbnail}" alt=" \){v.title}">
      <svg class="fav-heart" viewBox="0 0 24 24" onclick="event.stopPropagation(); toggleFav('${v.id}', this)"><path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
      <div class="grid-overlay">
        <div class="title">${v.title}</div>
        <div class="meta">
          <span>${v.genre || ''}</span>
          <span>${Math.floor(Math.random()*80 + 20)} min</span>
          <span>${v.views || Math.floor(Math.random()*20000 + 2000).toLocaleString()} views</span>
          <span class="hd">HD</span>
        </div>
      </div>
    </div>
  `).join('');
});

loadVideos();
</script>
</body>
</html>
