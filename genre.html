<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Genre</title>
</head>
<body>
<h2>Video per Genre</h2>
<div id="videos"></div>

<script>
const API = "https://asupan.aku679093.workers.dev/api/videos";
const params = new URLSearchParams(window.location.search);
const genre = params.get("name");

async function loadGenre() {
  const res = await fetch(API);
  const data = await res.json();
  const container = document.getElementById("videos");

  const filtered = data.filter(v => v.genre === genre);

  container.innerHTML = filtered.map(video => `
    <div style="margin-bottom:15px;">
      <img src="${video.thumbnail}" width="200"><br>
      <a href="player.html?id=${video.id}">${video.title}</a><br>
      Views: ${video.views}
    </div>
  `).join('');
}

loadGenre();
</script>
</body>
</html>
